'\" t
.\"     Title: IPSEC_ADDCONN
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.76.1 <http://docbook.sf.net/>
.\"      Date: 10/30/2012
.\"    Manual: [FIXME: manual]
.\"    Source: [FIXME: source]
.\"  Language: English
.\"
.TH "IPSEC_ADDCONN" "8" "10/30/2012" "[FIXME: source]" "[FIXME: manual]"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
ipsec_addconn \- load a given policy into the pluto IKE daemon
.SH "SYNOPSIS"
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\fR \-\-configsetup [\-\-rootdir\ \fIdir\fR] [\-\-config\ \fIfilename\fR] [\-\-ctlbase\ \fIsocketfile\fR] [\-\-verbose] [\-\-noexport] [\-\-warningsfatal]
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\fR \-\-liststack [\-\-rootdir\ \fIdir\fR] [\-\-config\ \fIfilename\fR] [\-\-ctlbase\ \fIsocketfile\fR] [\-\-verbose] [\-\-noexport] [\-\-warningsfatal]
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\fR \-\-checkconfig [\-\-rootdir\ \fIdir\fR] [\-\-config\ \fIfilename\fR] [\-\-ctlbase\ \fIsocketfile\fR] [\-\-verbose] [\-\-warningsfatal]
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\fR \-\-autoall [\-\-rootdir\ \fIdir\fR] [\-\-config\ \fIfilename\fR] [\-\-ctlbase\ \fIsocketfile\fR] [\-\-verbose] [\-\-warningsfatal] [\-\-defaultroute\ \fIaddr\fR] [\-\-defaultroutenexthop\ \fIaddr\fR]
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\fR [\-\-rootdir\ \fIdir\fR] [\-\-config\ \fIfilename\fR] [\-\-ctlbase\ \fIsocketfile\fR] [\-\-verbose] [\-\-warningsfatal] [\-\-defaultroute\ \fIaddr\fR] [\-\-defaultroutenexthop\ \fIaddr\fR] \fIname1\fR [\fIname2\ \&.\&.\fR]
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\fR [\-\-listall] [\-\-liststart] [\-\-listroute] [\-\-listadd] [\-\-listignore] [\-\-rootdir\ \fIdir\fR] [\-\-config\ \fIfilename\fR] [\-\-ctlbase\ \fIsocketfile\fR] [\-\-verbose] [\-\-warningsfatal]
.HP \w'\fBipsec\fR\ 'u
\fBipsec\fR \fIaddconn\ \-\-help\fR
.SH "DESCRIPTION"
.PP
\fIipsec addconn\fR
takes a config file (or stdin) containing the format of ipsec\&.conf, or the format of individual "conn" sections, and uses that information to load named or all connections defined in that configuration file into the running libreswan pluto IKE daemon\&. If no configuration file is specified, the default configuration file is used\&. If no pluto socket is specified, the default socket location will be used\&.
.PP
When
\fI\-\-addall\fR
is used, all connections defined in the config file will be operated on\&. Otherwise, only the specified connection names will be affected\&.
.PP
When addcon is run, connections that have the
\fIauto=\fR
option set to
\fIadd\fR,
\fIstart\fR
or
\fIroute\fR
will be loaded, routed or initiated\&. If a connection was loaded or initiated already, it will be replaced\&.
.PP
When
\fI\-\-configsetup\fR
is specified, the configuration file is parsed for the
\fIconfig setup\fR
section and printed to the terminal usable as a shell script\&. These are prefaced with
\fIexport \fR
unless
\fI\-\-noexport\fR
is specified\&.
.PP
When
\fI\-\-checkconfig\fR
is specified, the configuration file is parsed and all sections are checked for correct syntax\&. If an error is found, information about it is printed to the terminal\&.
.PP
When
\fI\-\-listroute\fR
or
\fI\-\-liststart\fR
is specified, no connections are added or replaced, only shown\&. This command can be used to verify which connections the addcon command would act upon, without actually performing any action\&.
.SH "HISTORY"
.PP
Man page written for the Libreswan project <\m[blue]\fBhttp://www\&.libreswan\&.org/\fR\m[]> by Paul Wouters
